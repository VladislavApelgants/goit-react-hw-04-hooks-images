(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3Nh5n",spinnerBox:"ImageGallery_spinnerBox__2UVd0",enterQuery:"ImageGallery_enterQuery__yrqnb"}},12:function(e,t,a){e.exports={App:"App_App__1bT9P",sectionGallery:"App_sectionGallery__2ZXbb"}},13:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__24T3n",SearchForm:"Searchbar_SearchForm__24nvk",SearchFormButton:"Searchbar_SearchFormButton__1aWle",SearchFormInput:"Searchbar_SearchFormInput__1jL_g"}},21:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),o=a.n(c),s=(a(20),a(21),a(3)),l=a(7),i=(a(22),a(12)),u=a.n(i),m=a(13),j=a.n(m),b=a(15),h=a(1);function g(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],o=r[1],i=function(){o("")};return Object(h.jsx)("header",{className:j.a.Searchbar,children:Object(h.jsxs)("form",{className:"SearchForm",onSubmit:function(e){if(e.preventDefault(),""===c.trim())return l.b.warn("\u041f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430, \u0432\u0432\u0435\u0434\u0438 \u0447\u0442\u043e-\u0442\u043e!");t(c),i()},children:[Object(h.jsx)("button",{type:"submit",className:"SearchFormButton",children:Object(h.jsx)("span",{className:"SearchFormButtonLabel",children:Object(h.jsx)(b.a,{size:"25px"})})}),Object(h.jsx)("input",{className:"SearchFormInput",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){var t=e.currentTarget.value.toLowerCase();o(t)}})]})})}var d=a(11),p=a(14),O=a.n(p),f=(a(44),a(10)),I=a.n(f),_=a(8),x=a.n(_),y=a(47);function S(e){var t=e.data,a=e.modalImage;return Object(h.jsx)("ul",{className:x.a.ImageGallery,children:t.map((function(e){return Object(h.jsx)("li",{className:x.a.ImageGalleryItem,onClick:a,large:e.largeImageURL,name:e.user,children:Object(h.jsx)("img",{src:e.webformatURL,alt:e.user,className:x.a.ImageGalleryItemImage})},Object(y.a)())}))})}function v(e){var t=e.searchImage,a=e.openLarge,r=e.page,c=e.handlPage,o=Object(n.useState)(null),l=Object(s.a)(o,2),i=l[0],u=l[1],m=Object(n.useState)(""),j=Object(s.a)(m,2),b=j[0],g=j[1],p=Object(n.useState)("idle"),f=Object(s.a)(p,2),_=f[0],x=f[1];Object(n.useEffect)((function(){u(null),x("idle")}),[t]),Object(n.useEffect)((function(){t&&(x("pending"),function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("23530022-92f1b2e37220c2d922c4e208a","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():new Error("\u0423\u043f\u0441,\u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a =(")}))}(t,r).then((function(e){e.hits.length>0&&(u((function(t){return t?[].concat(Object(d.a)(e.hits),Object(d.a)(t)):u(e.hits)})),x("resolved"))})).catch((function(e){g(e),x("rejected")})))}),[t,r]);return"idle"===_?Object(h.jsx)("p",{className:I.a.enterQuery,children:"Enter query"}):"pending"===_?Object(h.jsx)("div",{className:I.a.spinnerBox,children:Object(h.jsx)(O.a,{type:"Oval",color:"#3f51b5",height:100,width:100,timeout:3e3})}):"resolved"===_?Object(h.jsxs)(h.Fragment,{children:[i&&Object(h.jsx)("button",{type:"button",className:"Button",onClick:function(){c(r+1)},children:"Load more"}),i&&Object(h.jsx)(S,{data:i,modalImage:function(e){var t=e.currentTarget.attributes,n=t.large,r=t.name;a(n.value,r.value)}})]}):"rejected"===_?Object(h.jsx)("p",{children:b.message}):void 0}var G=document.querySelector("#modal-root");function w(e){var t=e.img,a=e.alt,r=e.onClose;function o(e){"Escape"===e.code&&r()}return Object(n.useEffect)((function(){return window.addEventListener("keydown",o),function(){return window.removeEventListener("keydown",o)}})),Object(c.createPortal)(Object(h.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&r()},children:Object(h.jsx)("div",{className:"Modal",children:Object(h.jsx)("img",{src:t,alt:a})})}),G)}var N=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),o=Object(s.a)(c,2),i=o[0],m=o[1],j=Object(n.useState)(""),b=Object(s.a)(j,2),d=b[0],p=b[1],O=Object(n.useState)(""),f=Object(s.a)(O,2),I=f[0],_=f[1],x=Object(n.useState)(1),y=Object(s.a)(x,2),S=y[0],G=y[1],N=function(){m(!i)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(g,{onSubmit:function(e){r(e.trim()),G(1)}}),Object(h.jsx)("section",{className:u.a.sectionGallery,children:Object(h.jsx)(v,{searchImage:a,openLarge:function(e,t){p(e),_(t),N()},page:S,handlPage:function(){G((function(e){return e+1}))}})}),i&&Object(h.jsx)(w,{onClose:N,img:d,alt:I}),Object(h.jsx)(l.a,{position:"top-center",autoClose:3e3,theme:"dark"})]})};o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(N,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={ImageGallery:"ImageGalleryItem_ImageGallery__3tn-J",ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__PlIpk",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2srMu"}}},[[45,1,2]]]);
//# sourceMappingURL=main.85c0608b.chunk.js.map